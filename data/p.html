<!DOCTYPE html>
<html>
  <head>
<title>Podlewacz</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/w3.css">
<link rel="stylesheet" href="css/a.css">
<link rel="stylesheet" href="css/fontawesome-all.min.css">
<script src="js/ws.js"></script>
<script src="js/wsConn.js"></script>
<script src="js/p.js"></script>



<style>
body, h1,h2,h3,h4,h5,h6 {font-family: "Montserrat", sans-serif}
.w3-row-padding img {margin-bottom: 12px}
/* Set the width of the sidebar to 120px */
.w3-sidebar {width: 120px;background: #222;}
/* Add a left margin to the "page content" that matches the width of the sidebar (120px) */
#main {margin-left: 120px}
/* Remove margins from "page content" on small screens */
@media only screen and (max-width: 600px) {#main {margin-left: 0}}
a:hover {
    color:tan;
}
</style>

</head>
<body class="w3-black">

<!-- Icon Bar (Sidebar - hidden on small screens) -->
<nav class="w3-sidebar w3-bar-block w3-small w3-hide-small w3-center">
  <!-- Avatar image in top left corner -->
 <!-- <img src="/w3images/avatar_smoke.jpg" style="width:100%">-->
 <i class="fa fa-plug w3-xlarge" style="color:darkred" id="plug"></i>  
  <a href="i.html" class="w3-bar-item w3-button w3-padding-large w3-black">
    <i class="fa fa-book w3-xxlarge"></i>
    <p>Status</p>
  </a>
    <a href="#progr" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-keyboard w3-xxlarge"></i>
    <p>Programowanie</p>
  </a>
  <a href="#konf" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-cogs w3-xxlarge"></i>
    <p>Konfiguracja</p>
  </a>

</nav>

<!-- Navbar on small screens (Hidden on medium and large screens) -->
<div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">
  <div class="w3-bar w3-black w3-opacity w3-hover-opacity-off w3-center w3-small">
    <a href="" class="w3-bar-item"><i class="fa fa-plug w3-large" style="color:darkred" id="plugm"></i> </a>
    <a href="i.html" class="w3-bar-item w3-button" style="width:25% !important">Status</a>
    <a href="#progr" class="w3-bar-item w3-button" style="width:25% !important">Programowanie</a>
    <a href="#konf" class="w3-bar-item w3-button" style="width:25% !important">Konfiguracja</a>
  </div>
</div>

<!-- Page Content -->
<div class="w3-padding-large" id="main">
  <!-- Header/Home -->
  <header class="w3-container w3-padding-32 w3-center w3-black" id="home">
    <h1 class="w3-jumbo"><span class="w3-hide-small">Aqua touch</span></h1><i>by KZG</i>
    <p>Sterownik automatycznego nawadniania trawnika.</p>
  <!--  <img src="/w3images/man_smoke.jpg" alt="boy" class="w3-image" width="992" height="1108">-->
  </header>

  <div class="w3-content w3-justify w3-padding-16" id="progr">
    <div class="w3-row">
      <div class="w3-col m2"><h2>Programy</h2></div>
     
      <div class="w3-rest w3-row-padding w3-padding-16 w3-grey"> 
         <form id="addProgForm" >
            <div class="w3-col m2">
              <label for="dzien" style="width:90%">Dzien</label>
              <select class="w3-select" required name="dzien" style="width:90%">
                  <option value="1">Poniedziałek</option>
                  <option value="2">Wtorek</option>
                  <option value="3">Środa</option>
                  <option value="4">Czwartek</option>
                  <option value="5">Piątek</option>
                  <option value="6">Sobota</option>
                  <option value="0">Niedziela</option>
              </select>
            </div>
            <div class="w3-col m2">
                <label for="godz" style="width:90%">Godzina startu</label>
                <input class="w3-input" style="width:90%" type="text" 
                      pattern="^([0-9]|[0-1][0-9]|2[0-3]):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9])$" 
                      id="godz" name="godz" value="" placeholder="hh:mm:ss" required />
              </div>
              <div class="w3-col m2">
                  <label for="dlug" style="width:90%">Długość [s]</label>
                  <input class="w3-input" style="width:90%" type="text"
                      pattern="\d{3,6}" required id="dlug" name="dlug" value="" placeholder="nnn" />
                </div>
                <div class="w3-col m3">
                    <label for="co_ile" style="width:90%">Powtarzaj</label><br>
                    <select class="w3-select" name="co_ile" style="width:90%">                    
                        <option value="1">codziennie</option>
                        <option value="2">co 2 dni</option>
                        <option value="3">co 3 dni</option>
                    </select>
                </div>
                <div class="w3-col m2">
                    <label for="sekcja" style="width:90%">Sekcja</label><br>
                    <select class="w3-select" required name="sekcja" style="width:90%">
                    </select>
                </div>
                <div class="w3-rest">
                    <label for="btnAdd" style="width:90%">Dodaj</label><br>
                    <button type='button' class="btn button5" style="width:80%;" onclick="addProgBtn()">    
                        <i style="color:green" class="fa fa-plus-square w3-xlarge" aria-hidden="true" ></i>
                    </button>
                </div>
         </form>
      </div>
      <hr style="width:200px" class="w3-opacity">
    </div>
  </div>

  <!-- About Section -->
  <div class="w3-content w3-justify w3-text-grey " >
       <div class="w3-row w3-center w3-section" id="prog">
       </div>  
  </div>

  <div class="w3-row w3-justify w3-text-grey w3-padding-64" id="deb">
    <input class="w3-input" style="width:90%" type="text" id="debjson3" value="{&quot;LBL&quot;:{&quot;id&quot;:1,&quot;lbl&quot;:&quot;txt&quot;}}"/>
    <button type="submit" class="button button5" onclick="(function(){ W.send(document.getElementById('debjson3').value); })();">ok</button>
  
    <input class="w3-input" style="width:90%" type="text" id="debjson2" value="{&quot;topic&quot;:&quot;INF&quot;,&quot;msg&quot;:{&quot;TRYB&quot;:&quot;m&quot;,&quot;GEO&quot;:&quot;a&quot;}}"/>
    <button type="submit" class="button button5" onclick="(function(){ W.send(document.getElementById('debjson2').value); })();">ok</button>
  <input class="w3-input" style="width:90%" type="text" id="debjson" 
  value="{&quot;GEO&quot;:&quot;a123&quot;,&quot;TEMP&quot;:124.4,&quot;TRYB&quot;:1,&quot;CZAS&quot;:123,&quot;CISN&quot;:333,&quot;DESZCZ&quot;:0,&quot;SEKCJE&quot;:3}"/>
  <button type="submit" class="button button5" onclick="(function(){ W.send(document.getElementById('debjson').value); })();">ok</button>
</div>

  <div class="w3-content w3-justify w3-padding-16" id="konf">
        <div class="w3-row ">
          <h2>Konfiguracja</h2>
        </div>
        
        <hr style="width:200px" class="w3-opacity">
        
    </div>
    <div class="w3-content w3-justify w3-text-grey " >
        
            <div class="w3-row w3-grey">
                <h3>Ustawienia Wifi</h3>
                <div class="w3-row">
                    <form id="Wifi" >
                        <div class="w3-col m4">
                            <label for="ssid" style="width:90%">SSID</label>
                            <input class="w3-input" style="width:90%" type="text" 
                                id="ssid" name="ssid" value="" placeholder="SSID" required />
                        </div>
                        <div class="w3-col m3">
                            <label for="pwd" style="width:90%">Hasło</label>
                            <input class="w3-input" style="width:90%" type="password" 
                                id="pwd" name="pwd" value="" placeholder="Hasło"/>
                        </div>
                  <!--      <div class="w3-col m2">
                            <label for="ip" style="width:90%">Stałe IP (client)</label>
                            <input class="w3-input" style="width:90%" type="text" 
                                id="ip" name="ip" value="" placeholder="xxx.xxx.xxx.xxx"/>
                        </div> -->
                        <div class="w3-col m2">
                            <label for="tryb" style="width:90%">Tryb Wifi</label>
                            <select id="tryb" class="w3-select" required name="tryb" style="width:90%">
                                <option value="STA">Client Mode</option>
                                <option value="AP">Access Point</option>
                            </select>
                        </div>
                        <div class="w3-rest">
                            <label for="btnAdd" style="width:90%">Zmień</label><br>
                            <button type='button' class="btn button5" style="width:80%;" onclick="KonfForm('Wifi')">    
                                <i style="color:green" class="fa fa-check w3-xlarge" aria-hidden="true" ></i>
                            </button>
                        </div>
                    </form> 
                </div>
            </div>        
            <div class="w3-row w3-grey">
                    <h3>Ustawienia MQTT</h3>
                    <div class="w3-row">
                        <form id="Mqtt" >
                            <div class="w3-col m3">
                                <label for="host" style="width:90%">Serwer MQTT</label>
                                <input class="w3-input" style="width:90%" type="text" 
                                    id="host" name="host" value="" placeholder="my.mqtt.com" required />
                            </div>
                            <div class="w3-col m2">
                                <label for="port" style="width:90%">Port</label>
                                <input class="w3-input" style="width:90%" type="text" pattern="\d{1,5}"
                                    id="port" name="port" value="" placeholder="1883" required/>
                            </div>
                            <div class="w3-col m2">
                                <label for="user" style="width:90%">Login</label>
                                <input class="w3-input" style="width:90%" type="text" 
                                    id="user" name="user" value="" placeholder="Login"  />
                            </div>
                            <div class="w3-col m2">
                                <label for="pwd" style="width:90%">Hasło</label>
                                <input class="w3-input" style="width:90%" type="password" 
                                    id="pwd" name="pwd" value="" placeholder="Hasło" />
                                </div>
                            <div class="w3-rest">
                                <label for="btnAdd" style="width:90%">Zmień</label><br>
                                <button type='button' class="btn button5" style="width:80%;" onclick="KonfForm('Mqtt')">    
                                    <i style="color:green" class="fa fa-check w3-xlarge" aria-hidden="true" ></i>
                                </button>
                            </div>
                        </form> 
                    </div>
                </div>
            <div class="w3-row w3-grey">
                    <h3>Ustawienia daty synchronizacja NTP</h3>
                    <div class="w3-row">
                        <form id="NTP" >
                            <div class="w3-col m4">
                                <label for="host" style="width:90%">Serwer czasu</label>
                                <input class="w3-input" style="width:90%" type="text" 
                                    id="host" name="host" value="" placeholder="europe.pool.ntp.org" required />
                            </div>
                            <div class="w3-col m2">
                                <label for="offset" style="width:90%">Strefa czasu [h]</label>
                                <input class="w3-input" style="width:90%" type="text"  pattern="^([\d]|[-,+,][\d])$" 
                                    id="offset" name="offset" value="" placeholder="+1" required/>
                            </div>
                            <div class="w3-col m1">
                                <label for="btnAdd" style="width:90%">Zmień</label><br>
                                <button type='button' class="btn button5" style="width:80%;" onclick="KonfForm('NTP')">    
                                    <i style="color:green" class="fa fa-check w3-xlarge" aria-hidden="true" ></i>
                                </button>
                            </div>
                        </form>
                    </div>
                    <h3>Ustawienia ręczne daty</h3>
                    <div class="w3-row">
                        <form id="CZAS" >
                            <div class="w3-col m3">
                                <label for="data" style="width:90%">Data</label>
                                <input class="w3-input" style="width:90%" type="text" 
                                    pattern="^([1-9]|0[1-9]|1\d|2\d|3[0-1])-([1-9]|0[1-9]|1[0-2])-(19\d{2}|2\d{3})$" 
                                    id="data" name="data" value="" placeholder="dd-mm-yyyy" required/>
                            </div>
                            <div class="w3-col m3">
                                <label for="czas" style="width:90%">Godzina</label>
                                <input class="w3-input" style="width:90%" type="text" 
                                    pattern="^([0-9]|[0-1][0-9]|2[0-3]):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9])$" 
                                    id="czas" name="czas" value="" placeholder="hh:mm:ss" required/>
                            </div>
                            <div class="w3-col m1">
                                <label for="btnAdd" style="width:90%">Zmień</label><br>
                                <button type='button' class="btn button5" style="width:80%;" onclick="setCzas('CZAS')">    
                                    <i style="color:green" class="fa fa-check w3-xlarge" aria-hidden="true" ></i>
                                </button>
                            </div>
                        </form>
                        <div class="w3-row w3-grey">
                            <h3>Definicje sekcji</h3>
                            <div class="w3-row w3-dark-grey">
                                <div class="w3-col m2 w3-center">Lp</div>
                                <div class="w3-col m5 w3-center">Nazwa</div>
                                <div class="w3-col m2 w3-center">Edytuj</div>
                            </div>
                            <div class="w3-row">
                                <form id="SekForm" >
                                    <div class="w3-row w3-dark-grey" id="sekList">

                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
        
    </div>

      <div class="w3-content w3-justify w3-text-grey w3-padding-64" id="deb">
        <p id="SYSTIME"></p>
      </div>

      